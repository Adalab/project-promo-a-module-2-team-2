let e={palette:"",name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""};const M=document.querySelector(".js__arrow_designbutton"),F=document.querySelector(".js__arrow_formbutton"),$=document.querySelector(".js__arrow_sharebutton"),m=document.querySelector(".js__content_design"),S=document.querySelector(".js__content_form"),g=document.querySelector(".js__content_share"),h=document.querySelector(".js__icon_design"),y=document.querySelector(".js__icon_form"),b=document.querySelector(".js__icon_share"),k=(t,n)=>{t.classList.contains("hidden")&&(t.classList.remove("hidden"),n.classList.add("button_rotate"))};M.addEventListener("click",t=>{k(m,h),S.classList.add("hidden"),g.classList.add("hidden"),y.classList.remove("button_rotate"),b.classList.remove("button_rotate"),r.classList.add("share__hidden")});F.addEventListener("click",t=>{k(S,y),m.classList.add("hidden"),g.classList.add("hidden"),h.classList.remove("button_rotate"),b.classList.remove("button_rotate"),r.classList.add("share__hidden")});$.addEventListener("click",t=>{k(g,b),m.classList.add("hidden"),S.classList.add("hidden"),h.classList.remove("button_rotate"),y.classList.remove("button_rotate"),r.classList.add("share__hidden"),_.classList.contains("button__clicked")&&r.classList.remove("share__hidden")});window.addEventListener("load",t=>{m.classList.remove("hidden"),h.classList.add("button_rotate"),JSON.parse(localStorage.getItem("cardData"))?(e=JSON.parse(localStorage.getItem("cardData")),O(),U(),o(),H()):v.click()});function O(){switch(e.palette){case"2":B.click();break;case"3":C.click();break;default:v.click()}}function U(){c.value=e.name,s.value=e.job,i.value=e.email,l.value=e.phone,e.linkedin?d.value=`linkedin.com/in/${e.linkedin}`:d.value="",e.github?u.value=`@${e.github}`:u.value=""}function H(){e.photo&&(f.style.backgroundImage=`url(${e.photo})`,q.style.backgroundImage=`url(${e.photo})`)}const c=document.querySelector(".js__inputName"),s=document.querySelector(".js__inputJob"),i=document.querySelector(".js__inputMail"),l=document.querySelector(".js__inputPhone"),d=document.querySelector(".js__inputLinkedin"),u=document.querySelector(".js__inputGithub");document.querySelector(".js__errorPhone");const R=document.querySelector(".js__reset_button");document.querySelector(".js__content_form");const E=document.querySelector(".js__cardName"),I=document.querySelector(".js__cardJob"),D=document.querySelector(".js__cardMail"),N=document.querySelector(".js__cardPhone"),P=document.querySelector(".js__cardLinkedin"),T=document.querySelector(".js__cardGithub");function o(){E.innerHTML=c.value||"Nombre Apellido",I.innerHTML=s.value||"Front-End developer",D.href="mailto:"+i.value,N.href="tel:"+l.value;const t=d.value.replace("linkedin.com/in/","");P.href=t?`https://linkedin.com/in/${t}`:"#";const n=u.value.replace("@","");T.href=n?`https://github.com/${n}`:"#",e.name=c.value,e.job=s.value,e.phone=l.value,e.email=i.value,e.linkedin=t,e.github=n,localStorage.setItem("cardData",JSON.stringify(e))}c.addEventListener("input",o);s.addEventListener("input",o);i.addEventListener("input",o);l.addEventListener("input",o);d.addEventListener("input",o);u.addEventListener("input",o);R.addEventListener("click",()=>{c.value="",s.value="",i.value="",l.value="",d.value="",u.value="",f.style.backgroundImage='url("../images/dog.jpg")',q.style.backgroundImage='url("")',E.innerHTML="Nombre Apellido",I.innerHTML="Front-End developer",D.href="mailto:",N.href="tel:",P.href="",T.href="",p.classList.remove("palette2","palette3"),v.click(),e.name="",e.job="",e.phone="",e.email="",e.linkedin="",e.github="",e.palette="1",e.photo="",_.classList.remove("button__clicked"),r.classList.add("share__hidden"),localStorage.setItem("cardData",JSON.stringify(e))});const _=document.querySelector(".js__buttonClicked"),r=document.querySelector(".js__share");_.addEventListener("click",t=>{t.preventDefault(),_.classList.add("button__clicked"),r.classList.remove("share__hidden")});const p=document.querySelector(".js__preview"),v=document.querySelector(".js__palette1"),B=document.querySelector(".js__palette2"),C=document.querySelector(".js__palette3"),j=t=>{e.palette=t.currentTarget.value,localStorage.setItem("cardData",JSON.stringify(e)),p.classList.remove("palette2","palette3"),p.classList.add(`palette${t.currentTarget.value}`)};v.addEventListener("click",j);B.addEventListener("click",j);C.addEventListener("click",j);const a=new FileReader,G=document.querySelector(".js__profile-upload-btn"),f=document.querySelector(".js__profile-image"),q=document.querySelector(".js__profile-preview");function x(t){const n=t.currentTarget.files[0];a.addEventListener("load",A),a.readAsDataURL(n)}function A(){f.style.backgroundImage=`url(${a.result})`,q.style.backgroundImage=`url(${a.result})`,e.photo=a.result,localStorage.setItem("cardData",JSON.stringify(e))}G.addEventListener("change",x);const z=document.querySelector(".js__content_share"),L=document.querySelector(".js__shareLink"),w=document.querySelector(".js__shareErrorContainer"),K=document.querySelector(".js__shareLinkContainer");function Q(t){t.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{n.success?(K.classList.remove("hidden"),L.href=n.cardURL,L.innerHTML=n.cardURL):(w.classList.remove("hidden"),w.innerHTML=n.error)})}z.addEventListener("click",Q);const V=document.querySelector(".js__shareButtonTwitter");V.addEventListener("click",function(t){t.preventDefault();const J="https://twitter.com/intent/tweet?text="+("Â¡Echa un vistazo a mi nueva tarjeta!: "+L.href.replace(/ /g,"%20"));window.open(J,"_blank")});console.log(">> Ready :)");
//# sourceMappingURL=main.js.map
