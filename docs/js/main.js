let e={palette:"",name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""};const M=document.querySelector(".js__arrow_designbutton"),F=document.querySelector(".js__arrow_formbutton"),O=document.querySelector(".js__arrow_sharebutton"),u=document.querySelector(".js__content_design"),S=document.querySelector(".js__content_form"),y=document.querySelector(".js__content_share"),_=document.querySelector(".js__icon_design"),g=document.querySelector(".js__icon_form"),b=document.querySelector(".js__icon_share"),f=(t,n)=>{t.classList.contains("hidden")&&(t.classList.remove("hidden"),n.classList.add("button_rotate"))};M.addEventListener("click",t=>{f(u,_),S.classList.add("hidden"),y.classList.add("hidden"),g.classList.remove("button_rotate"),b.classList.remove("button_rotate"),d.classList.add("share__hidden")});F.addEventListener("click",t=>{f(S,g),u.classList.add("hidden"),y.classList.add("hidden"),_.classList.remove("button_rotate"),b.classList.remove("button_rotate"),d.classList.add("share__hidden")});O.addEventListener("click",t=>{f(y,b),u.classList.add("hidden"),S.classList.add("hidden"),_.classList.remove("button_rotate"),g.classList.remove("button_rotate"),d.classList.add("share__hidden"),p.classList.contains("button__clicked")&&d.classList.remove("share__hidden")});window.addEventListener("load",t=>{u.classList.remove("hidden"),_.classList.add("button_rotate"),JSON.parse(localStorage.getItem("cardData"))?(e=JSON.parse(localStorage.getItem("cardData")),$(),U(),o(),H()):h.click()});function $(){switch(e.palette){case"2":B.click();break;case"3":C.click();break;default:h.click()}}function U(){a.value=e.name,c.value=e.job,s.value=e.email,i.value=e.phone,m.value=e.linkedin,e.github?l.value=`@${e.github}`:l.value=""}function H(){e.photo&&(k.style.backgroundImage=`url(${e.photo})`,q.style.backgroundImage=`url(${e.photo})`)}const a=document.querySelector(".js__inputName"),c=document.querySelector(".js__inputJob"),s=document.querySelector(".js__inputMail"),i=document.querySelector(".js__inputPhone"),m=document.querySelector(".js__inputLinkedin"),l=document.querySelector(".js__inputGithub");document.querySelector(".js__errorPhone");const R=document.querySelector(".js__reset_button");document.querySelector(".js__content_form");const E=document.querySelector(".js__cardName"),I=document.querySelector(".js__cardJob"),D=document.querySelector(".js__cardMail"),N=document.querySelector(".js__cardPhone"),P=document.querySelector(".js__cardLinkedin"),T=document.querySelector(".js__cardGithub");function o(){E.innerHTML=a.value||"Nombre Apellido",I.innerHTML=c.value||"Front-End developer",D.href="mailto:"+s.value,N.href="tel:"+i.value;const t=m.value;P.href=t?`https://${t}`:"#";const n=l.value.replace("@","");T.href=n?`https://github.com/${n}`:"#",e.name=a.value,e.job=c.value,e.phone=i.value,e.email=s.value,e.linkedin=t,e.github=n,localStorage.setItem("cardData",JSON.stringify(e))}a.addEventListener("input",o);c.addEventListener("input",o);s.addEventListener("input",o);i.addEventListener("input",o);m.addEventListener("input",o);l.addEventListener("input",o);R.addEventListener("click",()=>{a.value="",c.value="",s.value="",i.value="",m.value="",l.value="",k.style.backgroundImage='url("https://placedog.net/240/200")',q.style.backgroundImage='url("")',E.innerHTML="Nombre Apellido",I.innerHTML="Front-End developer",D.href="mailto:",N.href="tel:",P.href="",T.href="",v.classList.remove("palette2","palette3"),h.click(),e.name="",e.job="",e.phone="",e.email="",e.linkedin="",e.github="",e.palette="1",e.photo="",localStorage.setItem("cardData",JSON.stringify(e))});const p=document.querySelector(".js__buttonClicked"),d=document.querySelector(".js__share");p.addEventListener("click",t=>{t.preventDefault(),p.classList.add("button__clicked"),d.classList.remove("share__hidden")});const v=document.querySelector(".js__preview"),h=document.querySelector(".js__palette1"),B=document.querySelector(".js__palette2"),C=document.querySelector(".js__palette3"),j=t=>{e.palette=t.currentTarget.value,localStorage.setItem("cardData",JSON.stringify(e)),v.classList.remove("palette2","palette3"),v.classList.add(`palette${t.currentTarget.value}`)};h.addEventListener("click",j);B.addEventListener("click",j);C.addEventListener("click",j);const r=new FileReader,G=document.querySelector(".js__profile-upload-btn"),k=document.querySelector(".js__profile-image"),q=document.querySelector(".js__profile-preview");function x(t){const n=t.currentTarget.files[0];r.addEventListener("load",A),r.readAsDataURL(n)}function A(){k.style.backgroundImage=`url(${r.result})`,q.style.backgroundImage=`url(${r.result})`,e.photo=r.result,localStorage.setItem("cardData",JSON.stringify(e))}G.addEventListener("change",x);const z=document.querySelector(".js__content_share"),L=document.querySelector(".js__shareLink"),w=document.querySelector(".js__shareErrorContainer"),K=document.querySelector(".js__shareLinkContainer");function Q(t){t.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{n.success?(K.classList.remove("hidden"),L.href=n.cardURL,L.innerHTML=n.cardURL):(w.classList.remove("hidden"),w.innerHTML=n.error)})}z.addEventListener("click",Q);const V=document.querySelector(".js__shareButtonTwitter");V.addEventListener("click",function(t){t.preventDefault();const J="https://twitter.com/intent/tweet?text="+("Â¡Echa un vistazo a mi nueva tarjeta!: "+L.href.replace(/ /g,"%20"));window.open(J,"_blank")});console.log(">> Ready :)");
//# sourceMappingURL=main.js.map
